@page "/"
@rendermode InteractiveServer

<PageTitle>Home</PageTitle>

<h1>Configure Media Upload Service</h1>

<div>
    <label>Max Concurrent Threads:</label>
    <input type="number" @bind="MaxThreads" min="1" />
</div>
<div>
    <label>Max Queue Length:</label>
    <input type="number" @bind="MaxQueue" min="1" />
</div>
<button @onclick="SubmitConfiguration">Submit</button>

@code {

    private int MaxThreads { get; set; } = 1;
    private int MaxQueue { get; set; } = 1;

    private void SubmitConfiguration()
    {
        Console.WriteLine($"Submitting: MaxThreads={MaxThreads}, MaxQueue={MaxQueue}");

        mediaUploadService.Configure(MaxThreads, MaxQueue);

        Console.WriteLine("Configuration submitted successfully.");
    }

    [Inject]
    private MediaUpload.MediaUploadService mediaUploadService { get; set; }
}


